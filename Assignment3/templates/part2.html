<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>
<style>
* {box-sizing: border-box;}
body {font-family: Verdana, sans-serif;}
.mySlides {display: none;}
img {vertical-align: middle;}

/* Slideshow container */
.slideshow-container {
  max-width: 1000px;
  position: relative;
  margin: auto;
}

/* Caption text */
.text {
  color: #f2f2f2;
  font-size: 25px;
  padding: 8px 12px;
  position: absolute;
  bottom: 8px;
  width: 100%;
  text-align: center;
}

/* Number text (1/3 etc) */
.numbertext {
  color: #f2f2f2;
  font-size: 20px;
  padding: 8px 12px;
  position: absolute;
  top: 0;
}

/* The dots/bullets/indicators */
.dot {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.6s ease;
}

.active {
  background-color: #717171;
}

/* Fading animation */
.fade {
  -webkit-animation-name: fade;
  -webkit-animation-duration: 1.5s;
  animation-name: fade;
  animation-duration: 1.5s;
}

@-webkit-keyframes fade {
  from {opacity: .4}
  to {opacity: 1}
}

@keyframes fade {
  from {opacity: .4}
  to {opacity: 1}
}

/* On smaller screens, decrease text size */
@media only screen and (max-width: 300px) {

</style>
<script>
function BuildSlideShow(){

  var xmlhttp = new XMLHttpRequest();

  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {

      var myObj = JSON.parse(this.responseText);

        list_images = myObj.images;

        total_images = list_images.length

        for (i = 0; i < total_images ; i++) {


            var div_img = document.createElement('div');
            div_img.setAttribute('class', 'mySlides fade');
            div_img.setAttribute('id', 'img'+i);
            document.getElementById("slideshow").appendChild(div_img);

            n = i + 1;
            var numbertext_div = document.createElement('div');
            numbertext_div.setAttribute('class', 'numbertext');
            numbertext_div.textContent = n + ' / ' + total_images;
            document.getElementById('img'+i).appendChild(numbertext_div);

            var img_el = document.createElement('img');
            img_el.setAttribute('src', list_images[i].path );
            img_el.setAttribute('style', 'width:100%');
            document.getElementById('img'+i).appendChild(img_el);


            var caption_el = document.createElement('div');
            caption_el.setAttribute('class', 'text');
            caption_el.textContent = list_images[i].caption;
            document.getElementById('img'+i).appendChild(caption_el);

            var span_el = document.createElement('span');
            span_el.setAttribute('class', 'dot');
            document.getElementById('dots_for_control').appendChild(span_el);

        }
    }

  };

  xmlhttp.open("GET", "http://127.0.0.1:8000/static/json_files/all_images.json", true);
  xmlhttp.send();

};
BuildSlideShow();
</script>



<div class="slideshow-container" id="slideshow">

</div>
<br>

<div style="text-align:center" id="dots_for_control">

</div>

<script src="../static/js/slideshowpart2.js"></script>

</body>
</html>
